# Database Schema - Visual ER Diagram

## AgroBid Exchange System - Crop Item Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CROP ITEM MANAGEMENT SYSTEM                           â”‚
â”‚                             Database Schema v1.0                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CropCategory      â”‚  ğŸŒ¾ Main Categories
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK â”‚ id             â”‚
â”‚    â”‚ name           â”‚  e.g., "Cereals", "Pulses"
â”‚    â”‚ code           â”‚  e.g., "CRL", "PLS"
â”‚    â”‚ description    â”‚
â”‚    â”‚ icon           â”‚  ğŸŒ¾ ğŸ«˜ ğŸŒ»
â”‚    â”‚ is_active: boolâ”‚
â”‚    â”‚ created_at     â”‚
â”‚    â”‚ updated_at     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CropType          â”‚  ğŸŒ± Specific Crops
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK â”‚ id             â”‚
â”‚ FK â”‚ category_id    â”‚â”€â”€â”€â”€â”€â”€â”€â”
â”‚    â”‚ name           â”‚       â”‚
â”‚    â”‚ code           â”‚       â”‚ References CropCategory
â”‚    â”‚ description    â”‚       â”‚
â”‚    â”‚ growing_season â”‚       â”‚
â”‚    â”‚ avg_yield/acre â”‚       â”‚
â”‚    â”‚ current_msp    â”‚       â”‚
â”‚    â”‚ is_active: boolâ”‚       â”‚
â”‚    â”‚ created_at     â”‚       â”‚
â”‚    â”‚ updated_at     â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
         â”‚                    â”‚
         â”‚ 1:N                â”‚
         â–¼                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   CropVariety            â”‚  â”‚ ğŸ“¦ Specific Varieties
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ PK â”‚ id                  â”‚  â”‚
â”‚ FK â”‚ crop_type_id        â”‚â”€â”€â”˜
â”‚    â”‚ name                â”‚  e.g., "Basmati 1121", "Swarna"
â”‚    â”‚ code                â”‚  e.g., "PDY-BAS1121"
â”‚    â”‚ description         â”‚
â”‚    â”‚ grain_type          â”‚  "Long grain", "Medium grain"
â”‚    â”‚ maturity_days       â”‚  120-180 days
â”‚    â”‚ avg_grain_length    â”‚  in mm
â”‚    â”‚ aroma_level (1-5)   â”‚  Quality rating
â”‚    â”‚ base_price/quintal  â”‚  Base reference price
â”‚    â”‚ premium_percentage  â”‚  % premium over base
â”‚    â”‚ demand_level        â”‚  HIGH/MEDIUM/LOW
â”‚    â”‚ is_active: bool     â”‚
â”‚    â”‚ is_featured: bool   â”‚  Show prominently
â”‚    â”‚ created_at          â”‚
â”‚    â”‚ updated_at          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚       â”‚       â”‚          â”‚
         â”‚ 1:N   â”‚ 1:N   â”‚ 1:N      â”‚ 1:N
         â–¼       â–¼       â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Quality â”‚ â”‚ Price  â”‚ â”‚Seasonal â”‚ â”‚   Item   â”‚
    â”‚ Grade  â”‚ â”‚History â”‚ â”‚ Trend   â”‚ â”‚  Spec    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   QualityGrade           â”‚  â­ Quality Standards
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK â”‚ id                  â”‚
â”‚ FK â”‚ crop_variety_id     â”‚â”€â”€â”€â”
â”‚    â”‚ grade_name          â”‚   â”‚ References CropVariety
â”‚    â”‚ grade_code          â”‚   â”‚
â”‚    â”‚ min_moisture_%      â”‚   â”‚
â”‚    â”‚ max_moisture_%      â”‚   â”‚
â”‚    â”‚ max_foreign_matter  â”‚   â”‚
â”‚    â”‚ min_grain_purity    â”‚   â”‚
â”‚    â”‚ price_multiplier    â”‚   â”‚ 0.90 - 1.20
â”‚    â”‚ description         â”‚   â”‚
â”‚    â”‚ created_at          â”‚   â”‚
â”‚    â”‚ updated_at          â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   PriceHistory             â”‚ â”‚ ğŸ“Š Historical Prices
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ PK â”‚ id                    â”‚ â”‚
â”‚ FK â”‚ crop_variety_id       â”‚â”€â”˜
â”‚    â”‚ date                  â”‚  Daily price records
â”‚    â”‚ min_price             â”‚  Minimum of the day
â”‚    â”‚ max_price             â”‚  Maximum of the day
â”‚    â”‚ avg_price             â”‚  Average price
â”‚    â”‚ modal_price           â”‚  Most common price
â”‚    â”‚ volume_traded         â”‚  In quintals
â”‚    â”‚ state                 â”‚  Geographic location
â”‚    â”‚ district              â”‚
â”‚    â”‚ market                â”‚  Market/Mandi name
â”‚    â”‚ source                â”‚  APMC, eNAM, etc.
â”‚    â”‚ created_at            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SeasonalTrend            â”‚  ğŸ“… Monthly Patterns
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK â”‚ id                    â”‚
â”‚ FK â”‚ crop_variety_id       â”‚â”€â”€â”€â”
â”‚    â”‚ month (1-12)          â”‚   â”‚ References CropVariety
â”‚    â”‚ avg_price_index       â”‚   â”‚
â”‚    â”‚ price_volatility      â”‚   â”‚ HIGH/MEDIUM/LOW
â”‚    â”‚ supply_level          â”‚   â”‚ SURPLUS/BALANCED/SHORTAGE
â”‚    â”‚ demand_level          â”‚   â”‚ HIGH/MEDIUM/LOW
â”‚    â”‚ notes                 â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   ItemSpecification          â”‚ â”‚ ğŸ“œ Certifications
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ PK â”‚ id                      â”‚ â”‚
â”‚ FK â”‚ crop_variety_id         â”‚â”€â”˜
â”‚    â”‚ specification_type      â”‚  ORGANIC/FPO/EXPORT/AGMARK
â”‚    â”‚ certification_body      â”‚  e.g., "APEDA"
â”‚    â”‚ certification_number    â”‚
â”‚    â”‚ valid_from              â”‚
â”‚    â”‚ valid_until             â”‚
â”‚    â”‚ specification_details   â”‚  JSON field
â”‚    â”‚ document                â”‚  File upload
â”‚    â”‚ is_verified: bool       â”‚
â”‚    â”‚ created_at              â”‚
â”‚    â”‚ updated_at              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                           RELATIONSHIPS SUMMARY

CropCategory  â”€â”€(1:N)â”€â”€>  CropType  â”€â”€(1:N)â”€â”€>  CropVariety
                                                      â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚                 â”‚                 â”‚
                              (1:N) â”‚           (1:N) â”‚           (1:N) â”‚
                                    â–¼                 â–¼                 â–¼
                             QualityGrade      PriceHistory    SeasonalTrend
                                                                        â”‚
                                                                  (1:N) â”‚
                                                                        â–¼
                                                              ItemSpecification

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                            DATA FLOW EXAMPLE

User Request: "Show price trends for Basmati 1121"
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Query: CropVariety WHERE code='PDY-BAS1121'          â”‚
â”‚    Result: variety_id = 1, name = "Basmati 1121"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Query: PriceHistory WHERE crop_variety_id=1          â”‚
â”‚         AND date >= (today - 30 days)                   â”‚
    â”‚    ORDER BY date                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Aggregate: AVG(avg_price), MIN(min_price),           â”‚
â”‚              MAX(max_price), SUM(volume_traded)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Return: JSON array with date-wise price data         â”‚
â”‚    [                                                     â”‚
â”‚      {date: "2026-01-15", avg: 4520, min: 4400, ...},   â”‚
â”‚      {date: "2026-01-16", avg: 4535, min: 4420, ...},   â”‚
â”‚      ...                                                 â”‚
â”‚    ]                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        SAMPLE DATA HIERARCHY

ğŸŒ¾ Cereals (CRL)
    â”‚
    â”œâ”€â”€ ğŸŒ± Paddy (PDY)
    â”‚   â”œâ”€â”€ ğŸ“¦ Basmati 1121 (PDY-BAS1121)         [Featured] [High Demand]
    â”‚   â”‚   â”œâ”€â”€ â­ Premium Grade (1.20x price)
    â”‚   â”‚   â”œâ”€â”€ â­ Grade A (1.10x price)
    â”‚   â”‚   â”œâ”€â”€ â­ Grade B (1.00x price)
    â”‚   â”‚   â”œâ”€â”€ ğŸ“Š 90 days price history
    â”‚   â”‚   â””â”€â”€ ğŸ“… 12 months seasonal data
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ“¦ Pusa Basmati (PDY-PBAS)            [Featured] [High Demand]
    â”‚   â”œâ”€â”€ ğŸ“¦ Swarna (PDY-SWR)                   [Medium Demand]
    â”‚   â”œâ”€â”€ ğŸ“¦ IR-64 (PDY-IR64)                   [Medium Demand]
    â”‚   â””â”€â”€ ğŸ“¦ Sona Masuri (PDY-SM)               [High Demand]
    â”‚
    â”œâ”€â”€ ğŸŒ± Wheat (WHT)
    â”‚   â”œâ”€â”€ ğŸ“¦ PBW 343 (WHT-PBW343)               [Featured] [High Demand]
    â”‚   â””â”€â”€ ğŸ“¦ HD 2967 (WHT-HD2967)               [Medium Demand]
    â”‚
    â””â”€â”€ ğŸŒ± Maize (MZE)
        â””â”€â”€ ...

ğŸ«˜ Pulses (PLS)
    â”‚
    â”œâ”€â”€ ğŸŒ± Tur/Arhar (TUR)
    â”œâ”€â”€ ğŸŒ± Gram/Chana (GRM)
    â””â”€â”€ ğŸŒ± Moong (MNG)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        COMPOSITE KEYS & INDEXES

Composite Unique Keys:
    - CropType: (category_id, name)
    - CropVariety: (crop_type_id, name)
    - QualityGrade: (crop_variety_id, grade_code)
    - PriceHistory: (crop_variety_id, date, market)
    - SeasonalTrend: (crop_variety_id, month)

Recommended Indexes:
    - CropVariety: (is_featured, is_active)
    - CropVariety: (demand_level)
    - PriceHistory: (date DESC)
    - PriceHistory: (crop_variety_id, date DESC)
    - SeasonalTrend: (month)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        DATABASE STATISTICS

Total Tables: 7
    - CropCategory
    - CropType
    - CropVariety
    - QualityGrade
    - PriceHistory
    - SeasonalTrend
    - ItemSpecification

Expected Data Volume:
    - Categories: ~10 records
    - Crop Types: ~30-50 records
    - Varieties: ~200-500 records
    - Quality Grades: ~800-2000 records (4 per variety)
    - Price History: ~20K-50K records per month
    - Seasonal Trends: ~2400-6000 records (12 per variety)
    - Specifications: Variable

Storage Requirements:
    - Historical data: ~10MB per month
    - Images/Documents: Variable
    - Total estimate: 500MB - 2GB per year

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
